(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getLogger:()=>l});const r=require("log4js"),n=require("maskdata");var o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},i=["RAW_POST_DATA","password","card_number","cvc","my_number","token","secret","Authorization","payee_code","email","phone","street_name","contact_name","first_name","last_name","given_name","family_name","display_name","transfer_name","expire_month","expire_year","wallet_keys","wallet_login_key","wallet_login_secrets","question","answer","approvalcode","approval_code","identificationnumber","identification_number","application_uid","application_secret","credentials","common_key","nonce","certificate","passphrase","crt_file","crt_pass","amount","balance","Signature","AccessKey","assertion","accessToken","refreshToken"],c={configure:function(e,t,r,o){return function(e,t){return function(r){for(var o=r.data,a=r.level,i=r.context,c=i.maskingFields,s=i.maxDepth,l=function(e,t){if(t>s)return"too deep";var r=e;if(e&&"object"==typeof e){if(!e.stack)try{r=n.maskJSONFields(e,{maskWith:"*",fields:c})}catch(e){}Object.keys(r).forEach((function(e){r[e]&&(r[e]=l(r[e],t+1))}))}return r},f=[],u=function(e){if(o[e])if(o[e]instanceof Error&&o[e].toString){var t={};if(Object.keys(o[e]).forEach((function(r){"object"==typeof o[e][r]&&(o[e][r]=l(o[e][r],0),t[r]=o[e][r])})),o[e].stack&&f.push(o[e]),o[e]='"'+o[e].toString().replace(/\n/g,"\\n")+'"',Object.keys(t).length)try{o[e]+=" "+JSON.stringify(t)}catch(e){}}else if("object"==typeof o[e]){o[e]=l(o[e],0);try{o[e]=JSON.stringify(o[e])}catch(e){}}else"string"==typeof o[e]&&o[e].includes("\n")&&(o[e]=o[e].replace(/\n/g,"\\n"))},p=0;p<o.length;p++)u(p);["WARN","ERROR","FATAL"].includes(a.levelStr)?console.error(e(r,t.timezoneOffset)):console.info(e(r,t.timezoneOffset)),f.forEach((function(e){var t=new Error(e.message);t.stack=e.stack,console.error(t)}))}}((function(e){return e.categoryName+" - "+t.messagePassThroughLayout(e)}),e)}};r.configure({appenders:{masking:{type:c}},categories:{default:{appenders:["masking"],level:"ALL"}}});var s=function(){function e(e,t,n){this.logger=r.getLogger(e),this.maskingFields=t,this.logger.addContext("maskingFields",t),this.logger.addContext("maxDepth",n)}return e.prototype.debug=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this.logger).debug.apply(t,a([e],r))},e.prototype.info=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this.logger).info.apply(t,a([e],r))},e.prototype.warn=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this.logger).warn.apply(t,a([e],r))},e.prototype.error=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this.logger).error.apply(t,a([e],r))},e.prototype.fatal=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this.logger).fatal.apply(t,a([e],r))},e}(),l=function(e,t,r){return new s(e,t||i,r||5)};for(var f in t)this[f]=t[f];t.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();
//# sourceMappingURL=index.js.map